<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Readora - Online Book Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4a6fa5;
            --secondary: #166088;
            --accent: #4fc3a1;
            --accent-dark: #3a9378;
            --light: #f8f9fa;
            --dark: #2d3436;
            --darker: #1e2224;
            --danger: #dc3545;
            --success: #28a745;
            --warning: #ffc107;
            --gray: #8a8a8a;
            --light-gray: #e0e0e0;
        }

        body {
            background-color: #f5f7f9;
            color: var(--dark);
            line-height: 1.6;
            font-family: 'Montserrat', sans-serif;
            scroll-behavior: smooth;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Merriweather', serif;
            font-weight: 700;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(to right, var(--darker), var(--dark));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            color: var(--accent);
            font-size: 2.2rem;
        }

        nav {
            display: flex;
            align-items: center;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 4px;
            transition: all 0.3s;
        }

        nav ul li a:hover,
        nav ul li a.active {
            background: rgba(255, 255, 255, 0.15);
            color: var(--accent);
        }

        .header-right-icons {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.5rem;
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -12px;
            background: var(--danger);
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            font-weight: 600;
        }


        /* Mobile Menu Toggle */
        .menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1001;
        }

        .menu-toggle span {
            width: 100%;
            height: 3px;
            background-color: white;
            border-radius: 5px;
            transition: all 0.3s linear;
        }
        
        /* Dropdown Styles */
        nav ul li.dropdown {
            position: relative;
        }

        nav ul li.dropdown .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--darker);
            list-style: none;
            padding: 10px 0;
            margin: 0;
            border-radius: 4px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            min-width: 160px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 1001;
        }

        nav ul li.dropdown:hover .dropdown-menu {
            display: block;
            opacity: 1;
            visibility: visible;
        }

        nav ul li.dropdown .dropdown-menu li {
            margin: 0;
        }

        nav ul li.dropdown .dropdown-menu li a {
            padding: 10px 20px;
            display: block;
            width: 100%;
            text-align: left;
            white-space: nowrap;
        }

        nav ul li.dropdown .dropdown-menu li a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--accent);
        }

        nav ul li a .fa-caret-down {
            margin-left: 5px;
            font-size: 0.8em;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(45, 52, 54, 0.8), rgba(45, 52, 54, 0.8)), url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%D%D&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            display: flex;
            align-items: center;
            text-align: center;
            position: relative;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            z-index: 2;
            margin-top: 60px;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        /* Back to top button */
        .back-to-top {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s;
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 99;
            opacity: 0;
            visibility: hidden;
        }

        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }

        /* Main Content Styles */
        .main-content {
            padding: 2rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 2.5rem;
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: var(--accent);
            margin: 15px auto;
            border-radius: 2px;
        }

        /* Category Navigation */
        .categories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 1.5rem;
        }

        .category-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .category-btn:hover,
        .category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Category Separator Styles */
        .category-separator {
            border: none;
            height: 2px;
            background-color: var(--accent);
            width: 100px;
            margin: 2rem auto;
            animation: line-anim 0.8s ease-out forwards;
        }

        @keyframes line-anim {
            from {
                width: 0;
            }
            to {
                width: 100px;
            }
        }

        /* Language subcategories */
        .language-subcategories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .language-btn {
            padding: 8px 15px;
            background: var(--light);
            border: 1px solid var(--light-gray);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .language-btn:hover,
        .language-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .subcategories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 2rem;
        }

        .subcategory-btn {
            padding: 8px 15px;
            background: var(--light);
            border: 1px solid var(--light-gray);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .subcategory-btn:hover,
        .subcategory-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        /* Books Grid */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .book-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .book-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .book-img {
            aspect-ratio: 2 / 3;
            overflow: hidden;
            position: relative;
            background-color: #f9f9f9;
        }

        .book-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .book-card:hover .book-img img {
            transform: scale(1.08);
        }

        .quick-view {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(79, 195, 161, 0.9);
            color: white;
            text-align: center;
            padding: 12px 5px;
            font-weight: 600;
            font-size: 0.9rem;
            transform: translateY(100%);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            z-index: 3;
        }

        .book-card:hover .quick-view {
            transform: translateY(0);
            opacity: 1;
        }

        .book-info {
            padding: 15px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            text-align: center;
        }

        .book-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .book-author {
            color: var(--gray);
            margin-bottom: 12px;
            font-size: 14px;
        }

        .book-price {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .current-price {
            font-size: 20px;
            font-weight: 700;
            color: var(--secondary);
        }

        .original-price {
            text-decoration: line-through;
            color: var(--gray);
            font-size: 14px;
        }

        .discount {
            color: var(--danger);
            font-weight: 600;
            font-size: 14px;
        }

        .book-actions {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
            padding-top: 15px;
            gap: 10px;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-height: 40px;
            flex-grow: 1;
        }

        .btn.added {
            background-color: var(--success);
            color: white;
        }

        .btn i {
            margin-right: 8px;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }
        
        #see-more-btn {
            margin: 30px auto 0;
            display: block;
        }

        /* Search Section */
        #search {
            padding: 80px 0;
            background: var(--light);
        }

        .search-box {
            display: flex;
            max-width: 600px;
            margin: 0 auto 40px;
        }

        .search-box input {
            flex: 1;
            padding: 15px;
            border: 2px solid var(--light-gray);
            border-radius: 4px 0 0 4px;
            font-size: 1rem;
        }

        .search-box button {
            padding: 15px 25px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-weight: 600;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            margin: 50px auto;
            border-radius: 12px;
            max-width: 900px;
            width: 90%;
            animation: modalFade 0.4s;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        @keyframes modalFade {
            from {
                opacity: 0;
                transform: translateY(-60px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light);
            flex-shrink: 0;
        }

        .close-modal, .close-cart-modal {
            font-size: 28px;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
            position: absolute;
            top: 15px;
            right: 20px;
            z-index: 10;
        }

        .close-modal:hover, .close-cart-modal:hover {
            color: var(--dark);
        }

        .modal-body {
            padding: 30px;
            overflow-y: auto;
            flex-grow: 1;
        }

        .book-details {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            text-align: justify; 
        }

        .book-details-img {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        .book-details-img img {
            width: 100%;
            height: auto;
            display: block;
        }

        .book-details-info h2 {
            margin-bottom: 10px;
            font-size: 28px;
            color: var(--dark);
        }

        .book-details-author {
            color: var(--gray);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .book-details-price {
            font-size: 28px;
            color: var(--secondary);
            font-weight: 700;
            margin: 15px 0;
        }

        .book-details-meta {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        .book-details-desc {
            margin: 25px 0 5px;
            line-height: 1.8;
        }

        .book-details-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .btn-large {
            padding: 15px 25px;
            font-size: 16px;
        }

        /* Cart Modal Specific Styles */
        #cart-modal .modal-content {
            max-width: 800px;
            max-height: 90vh;
        }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid var(--light-gray);
            padding: 15px 0;
        }
        .cart-item:last-child {
            border-bottom: none;
        }
        .cart-item-img {
            width: 80px;
            height: 120px;
            object-fit: cover;
            border-radius: 4px;
        }
        .cart-item-info {
            flex-grow: 1;
        }
        .cart-item-info h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        .cart-item-price {
            font-weight: 600;
            color: var(--secondary);
        }
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .quantity-btn {
            width: 30px;
            height: 30px;
            border: 1px solid var(--light-gray);
            background: white;
            cursor: pointer;
            border-radius: 50%;
        }
        .cart-item-remove {
            color: var(--danger);
            cursor: pointer;
            font-size: 1.2rem;
        }
        .cart-empty-message {
            text-align: center;
            padding: 50px 0;
            color: var(--gray);
        }
        .cart-footer {
            padding: 20px 30px;
            border-top: 1px solid var(--light-gray);
            background: var(--light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }
        .cart-total {
            font-size: 1.2rem;
        }


        /* Footer */
        footer {
            background: var(--darker);
            color: white;
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .footer-logo i {
            margin-right: 10px;
            color: var(--accent);
        }

        .footer-about p {
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: all 0.3s;
        }

        .social-link:hover {
            background: var(--accent);
            transform: translateY(-3px);
        }

        .footer-heading {
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-heading:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 3px;
            background: var(--accent);
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links ul li {
            margin-bottom: 10px;
        }

        .footer-links ul li a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links ul li a:hover {
            color: var(--accent);
        }

        .contact-info p {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .contact-info i {
            margin-right: 10px;
            color: var(--accent);
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Custom Alert Modal Styles */
        .custom-alert {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            align-items: center;
            justify-content: center;
        }

        .custom-alert-content {
            background-color: #fff;
            margin: auto;
            padding: 25px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
            text-align: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: modalFade 0.3s;
        }

        .close-alert-btn {
            color: #aaa;
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .book-details {
                grid-template-columns: 1fr;
            }

            .book-details-img {
                max-width: 300px;
                margin: 0 auto;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            nav {
                position: fixed;
                top: 0;
                right: -300px;
                width: 300px;
                height: 100vh;
                background: var(--darker);
                box-shadow: -5px 0 15px rgba(0,0,0,0.2);
                transition: right 0.3s ease-in-out;
                z-index: 1000;
                padding-top: 80px;
                flex-direction: column;
                align-items: stretch;
            }
            
            nav.active {
                right: 0;
            }
            
            nav ul {
                flex-direction: column;
                padding: 0;
                width: 100%;
                text-align: center;
            }

            nav ul li {
                margin: 0;
                position: relative;
            }
            
            nav ul li a {
                display: block;
                padding: 18px 20px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            nav ul li.dropdown .dropdown-menu {
                display: block;
                position: static;
                background: var(--dark);
                box-shadow: none;
                padding: 0;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease-in-out;
            }

             nav ul li.dropdown.open .dropdown-menu {
                max-height: 500px; /* Adjust as needed */
            }

            nav ul li.dropdown .dropdown-menu li a {
                padding: 15px 20px;
                font-size: 0.9em;
                border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            }
            
            .header-right-icons {
                display: flex;
            }

            .menu-toggle {
                display: flex;
            }
            
            .menu-toggle.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }
            
            .menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }
            
            .menu-toggle.active span:nth-child(3) {
                transform: rotate(-45deg) translate(7px, -6px);
            }
            
            .book-details-actions {
                flex-direction: column;
            }
            
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .back-to-top {
                bottom: 20px;
                left: 20px;
            }
            
            .book-actions {
                flex-direction: row;
                gap: 10px;
            }

            .modal-content {
                width: 95%;
                margin: 20px auto;
            }
            
            .modal-body {
                padding: 20px 15px; 
            }

             .book-details-img {
                max-width: 50%;
                margin: 0 auto;
                text-align: center;
            }

            .book-details-img img {
                width: 100%;
                height: auto;
                object-fit: contain;
                border-radius: 8px;
            }

            .book-details h2 {
                font-size: 20px;
                display: flex;
                justify-content: center;
                text-align: center; 
            }

            .book-details-author {
                font-size: 14px;
                display: flex;
                justify-content: center;
                text-align: center; 
            }

            .book-details-price {
                font-size: 18px;
            }

            .book-details-meta {
                gap: 10px;
                font-size: 12px;
            }

            .book-details-desc {
                font-size: 14px;
                line-height: 1.6;
                text-align: justify; 
            }

            .book-details-actions .btn {
                font-size: 14px;
                padding: 10px 20px;
            }

            .cart-footer {
                flex-direction: column;
                gap: 15px;
            }
            
            .cart-footer .btn-large {
                padding: 12px 20px;
                font-size: 14px;
                width: 100%;
            }

            /* Footer mobile improvements */
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 40px;
            }

            .footer-heading:after {
                left: 50%;
                transform: translateX(-50%);
            }

            .contact-info p {
                justify-content: center;
            }

            .social-links {
                justify-content: center;
            }
        }

        @media (min-width: 769px) {
            .header-right-icons .menu-toggle {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
             .categories {
                display: flex;
                flex-wrap: nowrap;
                justify-content: space-between;
                gap: 4px;
                overflow-x: auto;
            }
             .subcategories, .language-subcategories {
                gap: 8px;
            }
            
            .category-btn, .subcategory-btn, .language-btn {
                padding: 8px 16px;
                font-size: 14px;
            }
            
            .book-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
            
            #see-more-btn {
                width: auto;
                padding: 10px 30px;
            }

	     .books-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }
    
    .book-card {
        margin-bottom: 0;
    }

            /* Footer mobile improvements */
            .footer-logo {
                 justify-content: center;
            }

            .footer-heading {
                font-size: 1.1rem;
            }

            .contact-info p {
                font-size: 0.9rem;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease forwards;
        }
        
        /* Section Scroll Target */
        .section-target {
            scroll-margin-top: 100px;
        }

        .no-books {
            text-align: center;
            grid-column: 1 / -1;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--gray);
        }

        /* Order Confirmation Modal Styles */
        .order-confirm-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1001;
            overflow-y: auto;
        }

        .order-confirm-content {
            background: white;
            margin: 50px auto;
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            animation: modalFade 0.4s;
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .order-confirm-header {
            padding: 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light);
        }

        .order-confirm-header h2 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--primary);
        }

        .close-confirm-modal, .close-request-modal {
            font-size: 28px;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
            position: absolute;
            top: 15px;
            right: 20px;
            z-index: 10;
        }

        .close-confirm-modal:hover, .close-request-modal:hover {
            color: var(--dark);
        }

        .order-confirm-body {
            padding: 30px;
        }
        
        .order-message {
            background: #f9f9f9;
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin-top: 10px;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 250px;
            overflow-y: auto;
        }
        
        .order-divider {
            border: none;
            height: 1px;
            background: var(--light-gray);
            margin: 20px 0;
        }

        .order-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 25px;
        }

        .btn-copy-messenger {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .btn-copy-messenger:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .btn-copy-messenger:disabled {
            background-color: var(--gray);
            cursor: not-allowed;
        }
        
        @media (max-width: 768px) {
            .order-confirm-content {
                width: 95%;
                margin: 20px auto;
            }
            
            .order-confirm-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-book-open"></i>
                <span>Readora</span>
            </div>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="index.html#home" class="nav-link active">Home</a></li>
                    <li><a href="about.html" class="nav-link">About</a></li>
                     <li><a href="index.html#search" class="nav-link">Search</a></li>
                    <li><a href="index.html#categories" class="nav-link">Categories</a></li>

                    <li class="dropdown">
                        <a  class="nav-link">Collections <i class="fas fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="trending.html">Trending</a></li>
                            <li><a href="bestselling.html">Bestselling</a></li>
                        </ul>
                    </li>
                     <li class="dropdown">
                        <a  class="nav-link">Explore <i class="fas fa-caret-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="publications.html">Publications</a></li>
                            <li><a href="authors.html">Authors</a></li>
                        </ul>
                    </li>
                    
                    <li><a href="index.html#footer" class="nav-link">Contact</a></li>
                </ul>
            </nav>

            <div class="header-right-icons">
                <div class="cart-icon" id="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-badge" class="cart-badge">0</span>
                </div>
                <button class="menu-toggle" id="menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="container hero-content">
            <h1>Discover Your Next Favorite Book</h1>
            <p>Explore our curated collection of bestsellers, classics, and hidden gems for every reader</p>
        </div>
    </section>

    <section id="search" class="section-target">
        <div class="container">
            <h2 class="section-title">Search Books</h2>
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Search by title, author...">
                <button id="search-button"><i class="fas fa-search"></i> Search</button>
            </div>
            <div class="books-grid" id="search-results">
                </div>
        </div>
    </section>

    <section id="categories" class="section-target">
        <div class="container">
            <h2 class="section-title">Browse by Category</h2>
            
            <div class="categories">
                <button class="category-btn active" data-type="all">All Books</button>
                <button class="category-btn" data-type="new">New Books</button>
                <button class="category-btn" data-type="old">Old Books</button>
                <button class="category-btn" data-type="exercise">Exercise Copy</button>
            </div>

            <hr class="category-separator" id="separator-1">
            
            <div class="language-subcategories" id="language-nav">
                
                <button class="language-btn" data-language="Bengali">Bengali</button>
                <button class="language-btn" data-language="English">English</button>
            </div>
            
            <hr class="category-separator" id="separator-2">
            
            <div class="subcategories" id="subcategories-nav">
              <button class="subcategory-btn active" data-category="all">All</button>
              <button class="subcategory-btn" data-category="Fiction">Fiction</button>
              <button class="subcategory-btn" data-category="Non-Fiction">Non-Fiction</button>
              <button class="subcategory-btn" data-category="Science">Science</button>
              <button class="subcategory-btn" data-category="Technology">Technology</button>
              <button class="subcategory-btn" data-category="Biography">Biography</button>
              
              <button class="subcategory-btn" data-category="Historical">Historical</button>
              <button class="subcategory-btn" data-category="Science Fiction">Science Fiction</button>
              <button class="subcategory-btn" data-category="Mystery">Mystery</button>
              <button class="subcategory-btn" data-category="Adventure">Adventure</button>
              <button class="subcategory-btn" data-category="Horror">Horror</button>
              <button class="subcategory-btn" data-category="Religious">Religious</button>
              <button class="subcategory-btn" data-category="Fairy Tale">Fairy Tale</button>
              <button class="subcategory-btn" data-category="Children’s Literature">Children’s Literature</button>
             
              <button class="subcategory-btn" data-category="Philosophy">Philosophy</button>
              <button class="subcategory-btn" data-category="Technical / Educational">Technical / Educational</button>
              <button class="subcategory-btn" data-category="Political">Political</button>
              <button class="subcategory-btn" data-category="Romance">Romance</button>
              <button class="subcategory-btn" data-category="Thriller">Thriller</button>
              <button class="subcategory-btn" data-category="Motivational">Motivational</button>
              <button class="subcategory-btn" data-category="Poetry">Poetry</button>
              <button class="subcategory-btn" data-category="Short Story">Short Story</button>
              <button class="subcategory-btn" data-category="Drama / Play">Drama / Play</button>
             
              <button class="subcategory-btn" data-category="Autobiography">Autobiography</button>
              <button class="subcategory-btn" data-category="Travel Writing">Travel Writing</button>
            </div>
            
            <div class="books-grid" id="category-books">
                </div>
            <div id="see-more-container"></div>
        </div>
    </section>

    <div id="book-details-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2> Details</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="book-details" id="book-details-content">
                    </div>
            </div>
        </div>
    </div>

    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Your Shopping Cart</h2>
                <span class="close-cart-modal">&times;</span>
            </div>
            <div class="modal-body" id="cart-items-container">
                </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <strong>Total:</strong> <span id="cart-total-price">₹0</span>
                </div>
                <button id="checkout-btn" class="btn btn-primary btn-large">
                    <i class="fab fa-facebook-messenger"></i> FB Chat to Order
                </button>
            </div>
        </div>
    </div>


    <div id="order-confirm-modal" class="order-confirm-modal">
        <div class="order-confirm-content">
            <div class="order-confirm-header">
                <h2>Order Confirmation</h2>
                <span class="close-confirm-modal">&times;</span>
            </div>
            <div class="order-confirm-body">
                <p>Review your order details, copy the message, and paste it into Messenger using the button below to confirm your order.</p>
                <div class="order-message" id="order-message-text">
                </div>
                
                <div class="order-actions">
                    <button id="copy-and-redirect-btn" class="btn-copy-messenger">
                        <i class="fab fa-facebook-messenger"></i> Copy & Go to Messenger
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="book-request-modal" class="order-confirm-modal">
        <div class="order-confirm-content">
            <div class="order-confirm-header">
                <h2>Request a Book</h2>
                <span class="close-request-modal">&times;</span>
            </div>
            <div class="order-confirm-body">
                <p>Copy the message below and paste it in Messenger chat:</p>
                <div class="order-message" id="request-message-text" style="user-select: all; -webkit-user-select: all; padding: 15px; border-radius: 5px; background-color: #f0f2f5; white-space: pre-wrap; word-wrap: break-word;">
                    </div>
                <div class="order-actions">
                    <button id="copy-request-btn" class="btn-copy-messenger">
                        <i class="fas fa-copy"></i> Copy & Go to Messenger
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="custom-alert-modal" class="custom-alert">
        <div class="custom-alert-content">
            <span class="close-alert-btn">&times;</span>
            <p id="custom-alert-message"></p>
        </div>
    </div>
    
    <footer id="footer" class="section-target">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <div class="footer-logo">
                        <i class="fas fa-book-open"></i>
                        <span>Readora</span>
                    </div>
                    <p>Your one-stop destination for all books. We offer a wide selection of books across all genres at competitive prices.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/17JzLNsUGm/" class="social-link facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/readora_books/" class="social-link instagram"><i class="fab fa-instagram"></i></a>
                        <a href="tel:+919163621264" class="social-link call"><i class="fas fa-phone"></i></a>
                        <a href="mailto:readora07@gmail.com" class="social-link email"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3 class="footer-heading">Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="about.html">About</a></li>                        
                        <li><a href="#search">Search</a></li>
                        <li><a href="#categories">Categories</a></li>
                        <li><a href="#footer">Contact</a></li>
                    </ul>
                </div>
                
                <div class="contact-info">
                    <h3 class="footer-heading">Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Sajirhat,Madhyamgram,Kolkata-700130</p>
                    <p><i class="fas fa-phone"></i> +91 9163621264</p>
                    <p><i class="fas fa-envelope"></i>readora07@gmail.com</p>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2020 Readora. All rights reserved.</p>
            </div>
        </div>
    </footer>
<script>
        // UPDATED createBook function to include status
        function createBook(id, title, author, price, originalPrice, category, condition, description, frontImg, pdf, language, publication, status) {
            return { id, title, author, price, originalPrice, category, condition, description, frontImg, pdf, language, publication, status };
        }

        // UPDATED book data with status
        const books = [
           createBook(1, "রাধা", "তারাশঙ্কর বন্দ্যোপাধ্যায়", 240, 250, "উপন্যাস", "New", "Tarasankar Bandyopadhyay's Radha is a Bengali novel focusing on the classic love story of Radha and Krishna. While details are limited, it is described as a \"Bengali Classical Novel\" published by Mitra & Ghosh Publishers. Unlike some modern interpretations, Bandyopadhyay's work likely explores the established mythological narratives and themes of the beloved epic relationship.", "https://boibipani.in/public/product/Radha%20By%20Tarashankar%20Bandyopadhyay.jpg", "", "Bengali", "Mitra & Ghosh", "bestselling"),
createBook(2, "দত্তা", "শরৎচন্দ্র চট্টোপাধ্যায়", 90, 100, "উপন্যাস", "New", "Datta by Sarat Chandra Chattopadhyay is a romantic Bengali novel, set in the early 20th century, that follows the story of an affluent Brahmo woman and a brilliant but poor Hindu man and their evolving relationship amid societal complexities and personal challenges. The narrative explores themes of love, tradition versus modernity, and individual aspirations, creating a story that is simultaneously light-hearted and serious, with a deep understanding of human psychology and a respect for women.", "https://share.google/images/rblJEldSjC2eJblhY", "", "Bengali","Gurudas Chattopadhyay & Sons", "trending"),

            createBook(3, "আদর্শ হিন্দু হোটেল", "বিভূতিভূষণ বন্দ্যোপাধ্যায়", 70, 100, "উপন্যাস", "New", "Adarsha Hindu Hotel by Bibhutibhushan Bandyopadhyay is a story...", "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfzt-fhUFG1IYM0iYpecVNyNH2V_JgtxJe7Q&s", "", "Bengali", "Mitra & Ghosh", "trending"),
            createBook(4, "বিষবৃক্ষ", "বঙ্কিমচন্দ্র চট্টোপাধ্যায়", 60, 60, "উপন্যাস", "New", "Bishbrikkho (The Poison Tree) is a Bengali novel...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "", "Bengali", "Bangiya Sahitya Parishad", "bestselling"),
            createBook(5, "তিতাস একটি নদীর নাম", "অদ্বৈত মল্লবর্মণ", 180, 200, "উপন্যাস", "New", "Titas Ekti Nadir Nam is a classic Bengali novel...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "", "Bengali", "Puthipatra", "trending"),
            createBook(6, "শেষের কবিতা", "রবীন্দ্রনাথ ঠাকুর", 80, 80, "উপন্যাস", "New", "Rabindranath Tagore's Shesher Kobita...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1uunS643iFc53R7ChsFE6yee4pgEOaXZ6/view?usp=drive_link", "Bengali", "Visva-Bharati", "bestselling"),
            createBook(7, "রক্ত করবী", "রবীন্দ্রনাথ ঠাকুর", 70, 70, "নাটক", "New", "Rabindranath Tagore's play, Roktokorobi...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1U9ZVSDUtwvHrNtt6WcXkRthMSLmDhH1t/view?usp=drive_link", "Bengali", "Visva-Bharati", "trending"),
            createBook(8, "নৌকাডুবি", "রবীন্দ্রনাথ ঠাকুর", 90, 90, "উপন্যাস", "New", "Noukadubi (The Boat-Wreck) is a 1906 Bengali novel...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1s6VLtpBKEYYLsGpb79HHhFhYUBP12Zfg/view?usp=drive_link", "Bengali", "Visva-Bharati", ""),
            createBook(9, "দেবদাস", "শরৎচন্দ্র চট্টোপাধ্যায়", 60, 60, "উপন্যাস", "New", "Devdas by Sarat Chandra Chattopadhyay is a classic Bengali romantic novel...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1NZkIRKJIgoQhIx2vaGLMgnaG8tw_wrzq/view?usp=drive_link", "Bengali", "Gurudas Chattopadhyay & Sons", "bestselling"),
            createBook(10, "অশনি সংকেত", "বিভূতিভূষন বন্দ্যোপাধ্যায়", 60, 60, "উপন্যাস", "New", "Ashani Sanket by Bibhutibhushan Bandyopadhyay is a novel...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1dEA4IWY24DSV9kjR0dkz81QkluBwGD6c/view?usp=drive_link", "Bengali", "Mitra & Ghosh", ""),
            createBook(11, "নবান্ন", "বিজন ভট্টাচার্য", 160, 180, "নাটক", "New", "Nabanna is a seminal 1944 Bengali play...", "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1353301923i/16157766.jpg", "https://drive.google.com/file/d/1urGPkpPeNReuz8hW10Sdsk0LIYOEOiGe/view?usp=drive_link", "Bengali", "General Printers and Publishers", "trending"),
            createBook(12, "কৃষ্ণ কুমারী নাটক", "মাইকেল মধুসূদন দত্ত", 150, 150, "নাটক", "New", "Michael Madhusudan Dutt's Krishnakumari is the first successful tragic play...", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1erKhuutEduhXRRff1L6bp85jenwfIAAN/view?usp=drive_link", "Bengali", "I.C. Bose & Co.", ""),
            createBook(13, "ইংল্যান্ড বঙ্গ মহিলা", "কৃষ্ণ ভাবিনী দেবী", 120, 110, "ভ্রমণকাহিনি", "New", "", "https://via.placeholder.com/250x375.png?text=Book+Cover", "https://drive.google.com/file/d/1nKEX2QEe8OO8hdiiT-bS7T68xtXgiu5W/view?usp=drive_link", "Bengali", "S. K. Lahiri & Co.", "")
        ];

        // Sample exercise copy data
        const exerciseCopies = [
            { id: 'ex1', title: 'Classmate Notebook', img: 'https://images.meesho.com/images/products/112719835/hqino_512.webp?width=512', description: 'Durable and stylish notebook for everyday use.', price: 60 },
            { id: 'ex2', title: 'Spiral Notebook', img: 'https://rukminim2.flixcart.com/image/850/1000/kfmv9u80/notebook/p/y/g/navneet-youva-soft-bound-long-notebook-17x27-single-line-original-imafwfz7z7hzzfyb.jpeg?q=20&crop=false', description: 'Spiral bound notebook, easy to flip pages.', price: 80 },
            { id: 'ex3', title: 'Practical Copy', img: 'https://targetpublications.org/media/catalog/product/cache/1/image/700x700/9df78eab33525d08d6e5fb8d27136e95/t/a/target_s_eco-friendly_practical_notebook_for_students_2.jpg', description: 'Eco-friendly practical notebook for students.', price: 100 },
            { id: 'ex4', title: 'Graph Paper Book', img: 'https://laxmistationery.com/wp-content/uploads/2021/07/Classmate-Graph-Book-32-Pages-Pack-of-12.jpg', description: 'Perfect for math & geometry classes.', price: 50 }
        ];

        // DOM Elements
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const categoryButtons = document.querySelectorAll('.category-btn');
        const languageButtons = document.querySelectorAll('.language-btn');
        const subcategoryButtons = document.querySelectorAll('.subcategory-btn');
        const subcategoriesNav = document.getElementById('subcategories-nav');
        const languageNav = document.getElementById('language-nav');
        const categoryBooksGrid = document.getElementById('category-books');
        const searchResultsGrid = document.getElementById('search-results');
        const bookDetailsModal = document.getElementById('book-details-modal');
        const bookDetailsContent = document.getElementById('book-details-content');
        const closeModalBtns = document.querySelectorAll('.close-modal');
        const navLinks = document.querySelectorAll('.nav-link');
        const menuToggle = document.getElementById('menu-toggle');
        const mainNav = document.getElementById('main-nav');
        const seeMoreContainer = document.getElementById('see-more-container');
        const backToTop = document.createElement('div');
        backToTop.className = 'back-to-top';
        backToTop.innerHTML = '<i class="fas fa-arrow-up"></i>';
        document.body.appendChild(backToTop);

        // Cart Elements
        const cartIcon = document.getElementById('cart-icon');
        const cartBadge = document.getElementById('cart-badge');
        const cartModal = document.getElementById('cart-modal');
        const closeCartModalBtn = cartModal.querySelector('.close-cart-modal');
        const cartItemsContainer = document.getElementById('cart-items-container');
        const cartTotalPriceEl = document.getElementById('cart-total-price');
        const checkoutBtn = document.getElementById('checkout-btn');


        // Custom Alert Modal Elements
        const customAlertModal = document.getElementById('custom-alert-modal');
        const customAlertMessage = document.getElementById('custom-alert-message');
        const closeAlertBtn = document.querySelector('.close-alert-btn');

        // App State
        let cart = JSON.parse(localStorage.getItem('readoraCart')) || [];
        let selectedCategory = 'all';
        let selectedType = 'all';
        let selectedLanguage = 'all';

        // Pagination state
        const BOOKS_PER_PAGE = 8;
        let visibleBookCount = BOOKS_PER_PAGE;

        // Subcategory translations mapping
        const subcategoryTranslations = {
            "all": { "English": "All", "Bengali": "সমস্ত" },
            "Fiction": { "English": "Fiction", "Bengali": "উপন্যাস" },
            "Non-Fiction": { "English": "Non-Fiction", "Bengali": "নন-ফিকশন" },
            "Science": { "English": "Science", "Bengali": "বিজ্ঞান" },
            "Technology": { "English": "Technology", "Bengali": "প্রযুক্তি" },
            "Biography": { "English": "Biography", "Bengali": "জীবনী" },
           
            "Historical": { "English": "Historical", "Bengali": "ইতিহাসভিত্তিক" },
            "Science Fiction": { "English": "Science Fiction", "Bengali": "বিজ্ঞান কল্পকাহিনি" },
            "Mystery": { "English": "Mystery", "Bengali": "রহস্যকাহিনি" },
            "Adventure": { "English": "Adventure", "Bengali": "অ্যাডভেঞ্চার কাহিনি" },
            "Horror": { "English": "Horror", "Bengali": "ভৌতিক সাহিত্য" },
            "Religious": { "English": "Religious", "Bengali": "ধর্মীয় সাহিত্য" },
            "Children’s Literature": { "English": "Children’s Literature", "Bengali": "শিশু সাহিত্য" },
            "Fairy Tale": { "English": "Fairy Tale", "Bengali": "রূপকথা" },
            
            "Philosophy": { "English": "Philosophy", "Bengali": "দর্শন সাহিত্য" },
            "Technical / Educational": { "English": "Technical / Educational", "Bengali": "প্রযুক্তি বিষয়ক বই" },
            "Political": { "English": "Political", "Bengali": "রাজনৈতিক সাহিত্য" },
            "Romance": { "English": "Romance", "Bengali": "ভালবাসার কাহিনি" },
            "Thriller": { "English": "Thriller", "Bengali": "অপরাধ কাহিনি" },
            "Motivational": { "English": "Motivational", "Bengali": "প্রেরণামূলক সাহিত্য" },
            "Poetry": { "English": "Poetry", "Bengali": "কবিতা" },
            "Short Story": { "English": "Short Story", "Bengali": "গল্প" },
            "Drama / Play": { "English": "Drama / Play", "Bengali": "নাটক" },
           
            "Autobiography": { "English": "Autobiography", "Bengali": "আত্মজীবনী" },
            "Travel Writing": { "English": "Travel Writing", "Bengali": "ভ্রমণকাহিনি" }
        };

        // Initialize the app
        function init() {
            // Save the master books list to local storage for other pages
            localStorage.setItem('readoraBooks', JSON.stringify(books));

            displayBooksByCategory();
            setupEventListeners();
            updateSubcategoryButtonText(selectedLanguage);
            updateCartBadge(); // Update badge on initial load
        }

        // Set up event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            menuToggle.addEventListener('click', () => {
                menuToggle.classList.toggle('active');
                mainNav.classList.toggle('active');
            });
            
             // Mobile dropdown toggle
            mainNav.querySelectorAll('.dropdown > a').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        const parentLi = this.parentElement;
                        parentLi.classList.toggle('open');
                    }
                });
            });

            // Navigation smooth scrolling
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    const targetId = link.getAttribute('href');
                    if (targetId.includes('.html') || targetId === '#') {
                        return;
                    }
                    
                    e.preventDefault();
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        navLinks.forEach(navLink => navLink.classList.remove('active'));
                        link.classList.add('active');

                        // Close mobile menu on click
                         if (mainNav.classList.contains('active')) {
                            menuToggle.classList.remove('active');
                            mainNav.classList.remove('active');
                         }


                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Search functionality
            searchButton.addEventListener('click', () => {
                performSearch(searchInput.value);
            });

            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    performSearch(searchInput.value);
                }
            });

            // Category and type filter event listeners
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    selectedType = button.getAttribute('data-type');
                    
                    const separator1 = document.getElementById('separator-1');
                    const separator2 = document.getElementById('separator-2');

                    if (selectedType === 'exercise') {
                        subcategoriesNav.style.display = 'none';
                        languageNav.style.display = 'none';
                        separator1.style.display = 'none';
                        separator2.style.display = 'none';
                    } else {
                        subcategoriesNav.style.display = 'flex';
                        languageNav.style.display = 'flex';
                        separator1.style.display = 'block';
                        separator2.style.display = 'block';
                    }

                    visibleBookCount = BOOKS_PER_PAGE;
                    displayBooksByCategory();
                });
            });

            // Language filter event listeners
            document.querySelectorAll('.language-btn').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.language-btn').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    selectedLanguage = button.getAttribute('data-language');
                    updateSubcategoryButtonText(selectedLanguage);
                    visibleBookCount = BOOKS_PER_PAGE;
                    displayBooksByCategory();
                });
            });

            subcategoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    subcategoryButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    selectedCategory = button.getAttribute('data-category');
                    visibleBookCount = BOOKS_PER_PAGE;
                    displayBooksByCategory();
                });
            });

            // Close modals
            closeModalBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    bookDetailsModal.style.display = 'none';
                });
            });

            closeAlertBtn.addEventListener('click', () => {
                customAlertModal.style.display = 'none';
            });

            closeCartModalBtn.addEventListener('click', () => cartModal.style.display = 'none');
            cartIcon.addEventListener('click', displayCart);
            checkoutBtn.addEventListener('click', handleCheckout);


            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === bookDetailsModal) bookDetailsModal.style.display = 'none';
                if (e.target === cartModal) cartModal.style.display = 'none';
                if (e.target === document.getElementById('order-confirm-modal')) document.getElementById('order-confirm-modal').style.display = 'none';
                if (e.target === customAlertModal) customAlertModal.style.display = 'none';
            });
            
            // Scroll listeners for nav highlighting and back-to-top button
            window.addEventListener('scroll', () => {
                // Back to top
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('show');
                } else {
                    backToTop.classList.remove('show');
                }
                // Nav highlight
                highlightNavOnScroll();
            });


            backToTop.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
        
        function highlightNavOnScroll() {
            const scrollPosition = window.scrollY;
            const sections = document.querySelectorAll('.section-target');
            
            let currentSectionId = 'home'; // Default to home

            sections.forEach(section => {
                const sectionTop = section.offsetTop - 150;
                if (scrollPosition >= sectionTop) {
                    currentSectionId = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSectionId}`) {
                    link.classList.add('active');
                }
            });
        }
        
        // Function to show custom alert
        function showCustomAlert(message) {
            customAlertMessage.textContent = message;
            customAlertModal.style.display = 'flex';
        }

        // Update subcategory button text based on selected language
        function updateSubcategoryButtonText(language) {
            const lang = (language === 'all' || !language) ? 'English' : language;
            subcategoryButtons.forEach(button => {
                const categoryKey = button.getAttribute('data-category');
                if (subcategoryTranslations[categoryKey] && subcategoryTranslations[categoryKey][lang]) {
                    button.textContent = subcategoryTranslations[categoryKey][lang];
                }
            });
        }

        // Filtering logic
        function displayBooksByCategory() {
            categoryBooksGrid.innerHTML = '';
            seeMoreContainer.innerHTML = '';

            if (selectedType === 'exercise') {
                exerciseCopies.forEach(copy => {
                    const copyCard = createExerciseCopyCard(copy);
                    categoryBooksGrid.appendChild(copyCard);
                });
                return;
            }

            const filteredBooks = books.filter(book => {
                let categoryMatch = selectedCategory === 'all';
                if (!categoryMatch && subcategoryTranslations[selectedCategory]) {
                    const englishCategory = subcategoryTranslations[selectedCategory]['English'];
                    const bengaliCategory = subcategoryTranslations[selectedCategory]['Bengali'];
                    categoryMatch = book.category === englishCategory || book.category === bengaliCategory;
                }
                
                let typeMatch = false;
                if (selectedType === 'all') {
                    typeMatch = true;
                } else if (selectedType === 'new') {
                    typeMatch = book.condition.toLowerCase() === 'new';
                } else if (selectedType === 'old') {
                    typeMatch = book.condition.toLowerCase() === 'old';
                }

                const languageMatch = selectedLanguage === 'all' || book.language === selectedLanguage;

                return categoryMatch && typeMatch && languageMatch;
            });

            if (filteredBooks.length === 0) {
                categoryBooksGrid.innerHTML = '<div class="no-books">No books found for the selected filters.</div>';
                return;
            }

            const booksToShow = filteredBooks.slice(0, visibleBookCount);

            booksToShow.forEach(book => {
                const bookCard = createBookCard(book);
                categoryBooksGrid.appendChild(bookCard);
            });

            updateAddToCartButtonsUI();

            if (filteredBooks.length > visibleBookCount) {
                const seeMoreBtn = document.createElement('button');
                seeMoreBtn.textContent = 'See More';
                seeMoreBtn.id = 'see-more-btn'; // Assign ID for specific styling
                seeMoreBtn.className = 'btn btn-primary';
                seeMoreBtn.addEventListener('click', () => {
                    visibleBookCount += BOOKS_PER_PAGE;
                    displayBooksByCategory();
                });
                seeMoreContainer.appendChild(seeMoreBtn);
            }
        }

        // Create book card element
        function createBookCard(book) {
            const card = document.createElement('div');
            card.className = 'book-card fade-in';

            const discount = book.originalPrice ? Math.round(((book.originalPrice - book.price) / book.originalPrice) * 100) : 0;

            card.innerHTML = `
                <div class="book-img">
                    <img src="${book.frontImg}" alt="${book.title}" onerror="this.onerror=null;this.src='https://via.placeholder.com/250x375.png?text=No+Image';">
                    <div class="quick-view">${book.condition} | ${book.category}</div>
                </div>
                <div class="book-info">
                    <h3 class="book-title">${book.title}</h3>
                    <p class="book-author">by ${book.author}</p>
                    <div class="book-price">
                        <span class="current-price">₹${book.price.toFixed(2).replace(/\.00$/, '')}</span>
                        ${book.originalPrice ? `<span class="original-price">₹${book.originalPrice.toFixed(2).replace(/\.00$/, '')}</span>` : ''}
                        ${discount > 0 ? `<span class="discount">${discount}% off</span>` : ''}
                    </div>
                    <p style="font-size: 12px; color: var(--gray); margin-top: -10px; margin-bottom: 10px;">(Free Delivery on Three)</p>
                    <div class="book-actions">
                        <button class="btn btn-outline view-details" data-id="${book.id}">
                            <i class="fas fa-eye"></i> Details
                        </button>
                        <button class="btn btn-primary add-to-cart-btn" data-id="${book.id}">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
            `;

            card.querySelector('.view-details').addEventListener('click', () => showBookDetails(book.id));
            const addToCartBtn = card.querySelector('.add-to-cart-btn');
            addToCartBtn.addEventListener('click', () => {
                toggleCartItem(book.id);
            });

            return card;
        }

        // Create exercise copy card element
        function createExerciseCopyCard(copy) {
            const card = document.createElement('div');
            card.className = 'book-card fade-in';
            card.innerHTML = `
                <div class="book-img">
                    <img src="${copy.img}" alt="${copy.title}" style="object-fit: contain; padding: 10px;">
                </div>
                <div class="book-info">
                    <h3 class="book-title">${copy.title}</h3>
                    <div class="book-price">
                        <span class="current-price">₹${copy.price}/kg</span>
                    </div>
                    <div class="book-actions">
                        <button class="btn btn-primary enquire-btn" style="width:100%;" data-id="${copy.id}">
                            <i class="fas fa-shopping-cart"></i> Enquire Now
                        </button>
                    </div>
                </div>
            `;
            card.querySelector('.enquire-btn').addEventListener('click', () => showExerciseDetails(copy.id));
            return card;
        }

        function showExerciseDetails(copyId) {
            const copy = exerciseCopies.find(c => c.id === copyId);
            if (!copy) return;

            bookDetailsContent.innerHTML = `
                <div class="book-details-img">
                    <img src="${copy.img}" alt="${copy.title}">
                </div>
                <div class="book-details-info">
                    <h2>${copy.title}</h2>
                    <div class="book-details-price">₹${copy.price}</div>
                    <p style="font-size:14px; color: var(--gray); margin-bottom:15px;">(+ Delivery Charge)</p>
                    <p class="book-details-desc">${copy.description}</p>
                    <div class="book-details-actions">
                        <button class="btn btn-primary btn-large show-order-confirm" data-copy-id="${copy.id}">
                            <i class="fab fa-facebook-messenger"></i> FB Chat To Order
                        </button>
                    </div>
                </div>
            `;

            bookDetailsContent.querySelector('.show-order-confirm').addEventListener('click', function() {
                const orderText = `I want to order this item:\n\n📝 Item Name: ${copy.title}\n💰 Price: ₹${copy.price}\n\nPlease confirm availability and delivery details.`;
                showOrderConfirmModal(orderText);
            });

            bookDetailsModal.style.display = 'block';
        }

        // Perform search
        function performSearch(query) {
            if (!query.trim()) {
                searchResultsGrid.innerHTML = '<div class="no-books">Please enter a search term.</div>';
                return;
            }
            const searchTerm = query.toLowerCase().trim();
            const bookResults = books.filter(book =>
                book.title.toLowerCase().includes(searchTerm) ||
                book.author.toLowerCase().includes(searchTerm) ||
                book.category.toLowerCase().includes(searchTerm) ||
                book.language.toLowerCase().includes(searchTerm)
            );
            const copyResults = exerciseCopies.filter(copy =>
                copy.title.toLowerCase().includes(searchTerm)
            );
            searchResultsGrid.innerHTML = '';

            if (bookResults.length === 0 && copyResults.length === 0) {
                searchResultsGrid.innerHTML = `
                    <div class="no-books" style="grid-column: 1 / -1;">
                        <p>Sorry, the book you searched for is not available.</p>
                        <p style="margin-bottom: 20px;">Please contact us, and we will try to arrange it for you.</p>
                        <button id="contact-messenger-btn" class="btn btn-primary">
                            <i class="fab fa-facebook-messenger"></i> Contact on Messenger
                        </button>
                    </div>
                `;
                
                document.getElementById('contact-messenger-btn').addEventListener('click', () => {
                    const requestMessage = `Book request: "${query}"\n\nLet me know if it's possible to arrange this book for me?`;

                    const requestModal = document.getElementById('book-request-modal');
                    const requestMessageContainer = document.getElementById('request-message-text');
                    const copyRequestBtn = document.getElementById('copy-request-btn');
                    const closeRequestModal = requestModal.querySelector('.close-request-modal');

                    if (!requestModal || !requestMessageContainer || !copyRequestBtn || !closeRequestModal) {
                        console.error("Book request modal elements not found!");
                        return;
                    }

                    requestMessageContainer.innerText = requestMessage;
                    requestModal.style.display = 'block';

                    copyRequestBtn.onclick = () => {
                        copyToClipboard(requestMessage);
                        setTimeout(() => {
                            window.open('https://www.messenger.com/t/718957201308613', '_blank');
                        }, 150);
                    };

                    closeRequestModal.onclick = () => {
                        requestModal.style.display = 'none';
                    };

                    requestModal.onclick = (event) => {
                        if (event.target === requestModal) {
                            requestModal.style.display = 'none';
                        }
                    };
                });
                
                return;
            }

            bookResults.forEach(book => searchResultsGrid.appendChild(createBookCard(book)));
            copyResults.forEach(copy => searchResultsGrid.appendChild(createExerciseCopyCard(copy)));
        }

        // Show book details modal
        function showBookDetails(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;

            const discount = book.originalPrice ? Math.round(((book.originalPrice - book.price) / book.originalPrice) * 100) : 0;
            
            let descriptionHTML = '';
            const maxLength = 250; 

            if (book.description && book.description.length > maxLength) {
                const truncatedDesc = book.description.substring(0, maxLength) + '...';
                descriptionHTML = `
                    <p class="book-details-desc" id="book-desc-text" style="margin-bottom: 5px;">${truncatedDesc}</p>
                    <button id="see-more-desc" style="background:none; border:none; color:var(--primary); cursor:pointer; padding: 0; font-weight:600; font-size: 14px; text-align: left;">See More</button>
                `;
            } else {
                descriptionHTML = `<p class="book-details-desc">${book.description || ''}</p>`;
            }


            bookDetailsContent.innerHTML = `
                <div class="book-details-img">
                    <img src="${book.frontImg}" alt="${book.title}" onerror="this.onerror=null;this.src='https://via.placeholder.com/250x375.png?text=No+Image';">
                </div>
                <div class="book-details-info">
                    <h2>${book.title}</h2>
                    <p class="book-details-author">by ${book.author}</p>
                     <p style="font-size: 14px; color: var(--gray); margin-bottom: 10px;">Publication: ${book.publication || 'N/A'}</p>
                    <p style="font-size: 14px; color: var(--gray); margin-bottom: 10px;">Language: ${book.language}</p>

                    <div class="book-details-price">
                        ₹${book.price.toFixed(2).replace(/\.00$/, '')}
                        ${book.originalPrice ? `<span class="original-price">₹${book.originalPrice.toFixed(2).replace(/\.00$/, '')}</span>` : ''}
                        ${discount > 0 ? `<span class="discount">${discount}% off</span>` : ''}
                    </div>
                    <p style="font-size: 14px; color: var(--gray); margin-top: -10px; margin-bottom: 15px;">(Free delivery on 3 items)</p>
                    
                    ${descriptionHTML}

                    <div class="book-details-actions">
                        <button class="btn btn-outline btn-large download-sample-modal" data-pdf="${book.pdf}" style="width: 100%;">
                            <i class="fas fa-download"></i> Sample
                        </button>
                    </div>
                </div>
            `;
            
            const seeMoreBtn = bookDetailsContent.querySelector('#see-more-desc');
            if (seeMoreBtn) {
                seeMoreBtn.addEventListener('click', () => {
                    const descElement = bookDetailsContent.querySelector('#book-desc-text');
                    if (descElement) {
                        descElement.textContent = book.description;
                    }
                    seeMoreBtn.style.display = 'none'; 
                }, { once: true });
            }

            bookDetailsContent.querySelector('.download-sample-modal').addEventListener('click', function() {
                const pdfUrl = this.getAttribute('data-pdf');
                 if (pdfUrl && pdfUrl.trim() !== "" && !pdfUrl.includes('dummy.pdf')) {
                    window.open(pdfUrl, '_blank');
                } else {
                    showCustomAlert('PDF is not available for this book.');
                }
            });

            bookDetailsModal.style.display = 'block';
        }

        // --- CART FUNCTIONS ---
        function saveCartToStorage() {
            localStorage.setItem('readoraCart', JSON.stringify(cart));
        }

        function toggleCartItem(bookId) {
            const itemInCart = cart.some(item => item.id === bookId);
            if (itemInCart) {
                removeFromCart(bookId, true);
            } else {
                addToCart(bookId);
            }
            updateAddToCartButtonsUI();
        }


        function addToCart(bookId) {
            const book = books.find(b => b.id === bookId);
            const itemInCart = cart.find(item => item.id === bookId);

            if (itemInCart) {
                itemInCart.quantity++;
            } else {
                cart.push({ ...book, quantity: 1 });
            }
            saveCartToStorage();
            updateCartBadge();
        }
        
        function updateCartBadge() {
            cartBadge.textContent = cart.length;
        }

        function updateAddToCartButtonsUI() {
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                const bookId = parseInt(btn.dataset.id);
                if (cart.some(item => item.id === bookId)) {
                    btn.innerHTML = `<i class="fas fa-check"></i> Added`;
                    btn.classList.add('added');
                } else {
                    btn.innerHTML = `<i class="fas fa-cart-plus"></i> Add to Cart`;
                    btn.classList.remove('added');
                }
            });
        }


        function displayCart() {
            cartItemsContainer.innerHTML = '';
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `<p class="cart-empty-message">Your cart is empty.</p>`;
                checkoutBtn.style.display = 'none';
            } else {
                cart.forEach(item => {
                    const cartItemEl = document.createElement('div');
                    cartItemEl.className = 'cart-item';
                    cartItemEl.innerHTML = `
                        <img src="${item.frontImg}" alt="${item.title}" class="cart-item-img" onerror="this.onerror=null;this.src='https://via.placeholder.com/80x120.png?text=No+Image';">
                        <div class="cart-item-info">
                            <h4>${item.title}</h4>
                            <p class="cart-item-price">₹${item.price.toFixed(2).replace(/\.00$/, '')}</p>
                        </div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn" data-id="${item.id}" data-change="-1">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" data-id="${item.id}" data-change="1">+</button>
                        </div>
                        <i class="fas fa-trash cart-item-remove" data-id="${item.id}"></i>
                    `;
                    cartItemsContainer.appendChild(cartItemEl);
                });
                checkoutBtn.style.display = 'flex';
            }

            updateCartTotal();
            addCartEventListeners();
            cartModal.style.display = 'block';
        }

        function addCartEventListeners() {
            cartItemsContainer.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', e => {
                    const bookId = parseInt(e.target.dataset.id);
                    const change = parseInt(e.target.dataset.change);
                    updateQuantity(bookId, change);
                });
            });

            cartItemsContainer.querySelectorAll('.cart-item-remove').forEach(btn => {
                btn.addEventListener('click', e => {
                    const bookId = parseInt(e.target.dataset.id);
                    removeFromCart(bookId);
                });
            });
        }

        function updateQuantity(bookId, change) {
            const itemInCart = cart.find(item => item.id === bookId);
            if (itemInCart) {
                itemInCart.quantity += change;
                if (itemInCart.quantity <= 0) {
                    removeFromCart(bookId);
                } else {
                    saveCartToStorage();
                    displayCart();
                    updateCartBadge();
                }
            }
        }

        function removeFromCart(bookId, isSilent = false) {
            cart = cart.filter(item => item.id !== bookId);
            saveCartToStorage();
            if (!isSilent) {
                displayCart();
            }
            updateCartBadge();
            updateAddToCartButtonsUI();
        }

        function updateCartTotal() {
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotalPriceEl.textContent = `₹${total.toFixed(2).replace(/\.00$/, '')}`;
        }

        function handleCheckout() {
            const now = new Date();
            const dateTime = now.toLocaleString('en-IN', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit' });

            let orderDetails = "I would like to order the following books:\n\n";
            cart.forEach(item => {
                orderDetails += `📖 ${item.title}\n✍️ by ${item.author}\n- Quantity: ${item.quantity}\n- Price: ₹${(item.price * item.quantity).toFixed(2).replace(/\.00$/, '')}\n\n`;
            });

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            orderDetails += `--------------------\n`;
            orderDetails += `💰 Total Bill: ₹${total.toFixed(2).replace(/\.00$/, '')}\n`;
            orderDetails += `📅 Order Time: ${dateTime}\n\n`;
            orderDetails += `Please confirm availability and delivery details.`;

            showOrderConfirmModal(orderDetails);
            cartModal.style.display = 'none';
        }

        function showOrderConfirmModal(orderText) {
            const orderConfirmModal = document.getElementById('order-confirm-modal');
            const orderMessageText = document.getElementById('order-message-text');
            const copyAndRedirectBtn = document.getElementById('copy-and-redirect-btn');

            orderMessageText.innerText = orderText;

            copyAndRedirectBtn.onclick = async function() {
                const originalContent = this.innerHTML;
                this.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Opening...`;
                this.disabled = true;

                try {
                    await copyToClipboard(orderText);
                    setTimeout(() => {
                        window.open('https://www.messenger.com/t/718957201308613', '_blank');
                        setTimeout(() => {
                            this.innerHTML = originalContent;
                            this.disabled = false;
                            orderConfirmModal.style.display = 'none';
                        }, 1500);
                    }, 500);
                } catch (err) {
                    console.error('Error copying or opening Messenger:', err);
                    window.open('https://www.messenger.com/t/718957201308613', '_blank');
                    setTimeout(() => {
                        this.innerHTML = originalContent;
                        this.disabled = false;
                    }, 1500);
                }
            };

            orderConfirmModal.style.display = 'block';

            document.querySelector('.close-confirm-modal').onclick = function() {
                orderConfirmModal.style.display = 'none';
            };

            orderConfirmModal.onclick = function(event) {
                if (event.target === orderConfirmModal) {
                    orderConfirmModal.style.display = 'none';
                }
            };
        }

        // Copy to clipboard function
        function copyToClipboard(text) {
            return new Promise((resolve, reject) => {
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(() => {
                        resolve();
                    }).catch(err => {
                        console.error('Failed to copy text: ', err);
                        fallbackCopy(text) ? resolve() : reject(err);
                    });
                } else {
                    fallbackCopy(text) ? resolve() : reject(new Error('Fallback copy failed'));
                }
            });
        }

        function fallbackCopy(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                const successful = document.execCommand('copy');
                return successful;
            } catch (err) {
                console.error('Fallback: unable to copy', err);
                return false;
            } finally {
                document.body.removeChild(textArea);
            }
        }

        // Initialize the app
        init();
    </script>
</body>
</html>

